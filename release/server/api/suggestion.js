"use strict";
var express = require('express');
var mongodb_1 = require('mongodb');
var db_1 = require('../db');
var Suggestion_1 = require('../../client/src/models/Suggestion');
var router = express.Router();
router.put('/', function (req, res) {
    var textErr = Suggestion_1.textValidator(req.body.text);
    var questionId = new mongodb_1.ObjectID(req.params.id);
    var suggestion = {
        questionId: questionId,
        text: req.body.text,
        createdAt: new Date().toISOString()
    };
    db_1.db.collection('suggestions').insertOne(suggestion, function (err, insertRes) {
        if (err)
            return res.status(400).send('');
        else
            return res.send(insertRes.ops[0]);
    });
});
router.get('/:id', function (req, res) {
});
router.post('/:id', function (req, res) {
});
module.exports = router;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS9zdWdnZXN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFZLE9BQU8sV0FBTSxTQUFTLENBQUMsQ0FBQTtBQUNuQyx3QkFBeUIsU0FBUyxDQUFDLENBQUE7QUFFbkMsbUJBQW1CLE9BQU8sQ0FBQyxDQUFBO0FBQzNCLDJCQUErQyxvQ0FBb0MsQ0FBQyxDQUFBO0FBRXBGLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUc5QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO0lBRXhCLElBQUksT0FBTyxHQUFHLDBCQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUUzQyxJQUFJLFVBQVUsR0FBRyxJQUFJLGtCQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUU3QyxJQUFJLFVBQVUsR0FBb0I7UUFDakMsWUFBQSxVQUFVO1FBQ1YsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSTtRQUNuQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7S0FDbkMsQ0FBQztJQUVGLE9BQUUsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFDLEdBQUcsRUFBRSxTQUFTO1FBQ2pFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QyxJQUFJO1lBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO0FBRTVCLENBQUMsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRztBQUU3QixDQUFDLENBQUMsQ0FBQztBQTFCSCxpQkFBUyxNQUFNLENBQUMiLCJmaWxlIjoiYXBpL3N1Z2dlc3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgT2JqZWN0SUQgfSBmcm9tICdtb25nb2RiJztcblxuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgeyBTdWdnZXN0aW9uTW9kZWwsIHRleHRWYWxpZGF0b3IgfSBmcm9tICcuLi8uLi9jbGllbnQvc3JjL21vZGVscy9TdWdnZXN0aW9uJztcblxubGV0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5leHBvcnQgPSByb3V0ZXI7XG5cbnJvdXRlci5wdXQoJy8nLCAocmVxLCByZXMpID0+IHtcblx0Ly8gVE9ETyBTY2hlbWEgdmFsaWRhdGlvblxuXHRsZXQgdGV4dEVyciA9IHRleHRWYWxpZGF0b3IocmVxLmJvZHkudGV4dCk7XG5cblx0bGV0IHF1ZXN0aW9uSWQgPSBuZXcgT2JqZWN0SUQocmVxLnBhcmFtcy5pZCk7XG5cblx0bGV0IHN1Z2dlc3Rpb246IFN1Z2dlc3Rpb25Nb2RlbCA9IHtcblx0XHRxdWVzdGlvbklkLFxuXHRcdHRleHQ6IHJlcS5ib2R5LnRleHQsXG5cdFx0Y3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcblx0fTtcblxuXHRkYi5jb2xsZWN0aW9uKCdzdWdnZXN0aW9ucycpLmluc2VydE9uZShzdWdnZXN0aW9uLCAoZXJyLCBpbnNlcnRSZXMpID0+IHtcblx0XHRpZiAoZXJyKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJycpO1xuXHRcdGVsc2UgcmV0dXJuIHJlcy5zZW5kKGluc2VydFJlcy5vcHNbMF0pO1xuXHR9KTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkJywgKHJlcSwgcmVzKSA9PiB7XG5cbn0pO1xuXG5yb3V0ZXIucG9zdCgnLzppZCcsIChyZXEsIHJlcykgPT4ge1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
